
import java.io.File;
import java.io.FileNotFoundException;
import java.io.PrintWriter;
import java.time.LocalDateTime;
import java.time.format.DateTimeFormatter;
import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class ManagingClass {

	public static List<LandingFlights> landingFlights = new ArrayList<>();
	public static int numOflandingFlights = 0;
	public static int numOfTakeOffFlights = 0;
	public static List<TakingOffFlights> takingOfFlights = new ArrayList<>();
	public static List<TakingOffFlights> flightsThatHaveBeenFound = new ArrayList<>();

	

	public void setCurrenTakinfOff(int num) {
		this.numOfTakeOffFlights = num;
	}

	public void setCurrentLanding(int num) {
		this.numOflandingFlights = num;
	}

	public static boolean addToTakingOfArray(TakingOffFlights takingOf) {
		boolean isOk = true;
		try {
			   takingOfFlights.add(takingOf);
			   numOfTakeOffFlights++;
			return isOk = true;
		} catch (Exception e) {
			return isOk = false;
		}
	}

	public static boolean addToLandingArray(LandingFlights landingFlight) { 
		boolean isOk = true;
		try {
			   landingFlights.add(landingFlight);
			   numOflandingFlights++;
			return isOk = true;
		} catch (Exception e) {
			return isOk = false;
		}
	}

	public static String printArrayList(String string) {
		String str = "";
		if (string.equalsIgnoreCase("takeOf")) {
			for (int i = 0; i < takingOfFlights.size(); i++) {
				str += takingOfFlights.get(i).toString() + "\n";
			}
		} else {
			for (int i = 0; i < landingFlights.size(); i++) {
				str += landingFlights.get(i).toString() + "\n";
			}
		}
		return str;
	}

	public static void saveAllLandings() throws FileNotFoundException {
//		updateFlightsFromFile();
		File file = new File("Landings.txt");
		PrintWriter print = new PrintWriter(file);
		for (int i = 0; i < landingFlights.size(); i++) {
			landingFlights.get(i).save(print);
		}
		print.close();

	}

	public static void saveAlltakeOff() throws FileNotFoundException {
//		updateFlightsFromFile();
		File file = new File("takeOff.txt");
		PrintWriter print = new PrintWriter(file);
		for (int i = 0; i < takingOfFlights.size(); i++) {
			takingOfFlights.get(i).save(print);
		}
		print.close();
	}

	static void updateFlightsFromFile() throws FileNotFoundException {
		File file = new File("takeOff.txt");
		Scanner s = new Scanner(file);
		while (s.hasNext()) {
			String company = s.nextLine();
			String from = s.nextLine();
			String to = s.nextLine();
			String time = s.nextLine();
			String date= s.nextLine();
			numOfTakeOffFlights++;
			TakingOffFlights takeOff = new TakingOffFlights(company,from, to, time,date);
			takingOfFlights.add(takeOff);
		}
		
		File file1 = new File("Landings.txt");
		s = new Scanner(file1);
		while (s.hasNext()) {
			String company = s.nextLine();
			String from = s.nextLine();
			String to = s.nextLine();
			String time = s.nextLine();
			String date= s.nextLine();
			numOflandingFlights++;
			LandingFlights landings = new LandingFlights(company,from, to, time,date);
			landingFlights.add(landings);
		}
	}

	public static void findFlights(String company, String takesOffFrom, String destination, String time, String date) {
		for( int i=0;i<landingFlights.size();i++) {
			if(landingFlights.get(i).compareParameters(company, takesOffFrom,destination,time,date)) {
				
			}
		}
		for ( int i=0;i<takingOfFlights.size();i++) {
			takingOfFlights.get(i).compareParameters(company, takesOffFrom,destination,time,date);
		}
		
	}

}
